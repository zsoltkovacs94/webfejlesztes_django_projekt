<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Houses Page</title>
</head>
<body>
    <h1>Navigation</h1>
    <h2><a href="{% url 'persons' %}">Person</a> <a href="{% url 'houses' %}">House</a></h2>
    <form method="get">
        <h2><button type="submit" name="mode" value="add">Add</button><button type="submit" name="mode" value="edit">Edit</button></h2>
    </form>
    {% if mode == 'add' %}
    <form method="post">
        {% csrf_token %}
        <input type="text" name="address" placeholder="address">
        <input type="text" name="houseType" placeholder="house type">
        <button type="submit" name="createHouse">Create House</button>
    </form>
    {% elif mode == 'edit' %}
    <form method="post">
        {% csrf_token %}
        <input type="text" name="id" placeholder="id">
        <input type="text" name="address" placeholder="address">
        <input type="text" name="houseType" placeholder="house type">
        <button type="submit" name="editHouse">Edit House</button>
    </form>
    {% endif %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Address</th>
                <th>Type</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
        {% for item in data %}
            <tr>
                <td>{{ item.id }}</td>
                <td>{{ item.address }}</td>
                <td>{{ item.houseType }}</td>
                <td>
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" value="{{ item.id }}" name="id">
                        <button type="submit" name="deleteHouse">Delete</button>
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>